# 全连接例样监督训练

## 实验参数
    样例数 60000
    平均信息熵
    学习率 0.001
## A.例样数据不处理
### 1.优化器 wij = wij - lr * ( same_grad - diff_grad )
|每类例样数|例样监督网络结构|多层网络结构|准确率|训练前均值\方差|训练后均值\方差|
|---|---|---|---|---|---|
| 10 | 784,392,392,784 |784,128,32,10| 84% 82% |   0.11988330632448196 <br>   0.08754689246416092 |   -0.002464256715029478 <br>   0.0025837039574980736 |
| 10 | 784,196,392,784 | 784,128,32,10|82% 80% |   0.12866061925888062 <br>   0.09178951382637024 |   0.0001722443848848343 <br>   0.002006661146879196 |
| 10 | 784,1024,196,784 |784,128,32,10| 80% 81% |   0.12975835800170898 <br>   0.09340644627809525 |   -0.0034499005414545536 <br>   0.0028256261721253395 |
| 10 | 784,392,196,784 |784,128,32,10| 80% 81% |   0.12975835800170898 <br>   0.09340644627809525 |   -0.0010184788843616843 <br>   0.003113408340141177 |
| 10 | 784,196,784,784 |784,128,32,10| 83% 83% |   0.12975835800170898 <br>   0.09340644627809525 |   0.00043695932254195213 <br>   0.001661242451518774 |
| 10 | 784,392,784,784 | 784,128,32,10|86% 86% |   0.12975835800170898 <br>   0.09340644627809525 |   0.0017245355993509293 <br>   0.0014849429717287421 |
| 10 | 784,784,784,784 | 784,128,32,10|87% 86% |   0.12975835800170898 <br>   0.09340644627809525 |   -0.0009061344317160547 <br>   0.0014328578254207969 |
| 10 | 784,1024,784,784 | 784,128,32,10|87% 87% |   0.12975835800170898 <br>   0.09340644627809525 |   -0.0009969240054488182 <br>   0.001539437915198505 |
| 10 | 784,1024,1024,784 | 784,128,32,10|87% |   0.12975835800170898 <br>   0.09340644627809525 |   -5.389360012486577e-05 <br>   0.0014882584800943732 |
| 15 | 784,1024,784,784 | 784,128,32,10|86% |   0.12975835800170898 <br>   0.09340644627809525 |   0.001501835067756474 <br>   0.001520155230537057 |
| 5 | 784,1024,784,784| 784,128,32,10|87% |   0.12975835800170898 <br>   0.09340644627809525 |   -0.00036482690484263003 <br>   0.0015083275502547622 |

### 2.优化器 wij = wij - lr * ( same_grad )
|每类例样数|例样监督网络结构|多层网络结构|准确率|训练前均值\方差|训练后均值\方差|
|---|---|---|---|---|---|
| 5 |784,1024,784,784|784,128,32,10| 82% 84%| 0.12975835800170898 <br> 0.09340644627809525 | 0.04681815952062607 <br> 0.005988655146211386 |

### 3.优化器 wij = wij - lr * ( -diff_grad )
|每类例样数|例样监督网络结构|多层网络结构|准确率|训练前均值\方差|训练后均值\方差|
|---|---|---|---|---|---|
| 5 | 784,1024,784,784|784,128,32,10 | 13% | 0.12975835800170898 <br> 0.09340644627809525 | -0.7136033773422241 <br> 3.0782883167266846 |

## B.例样数据通过例样监督网络处理
### 优化器 wij = wij - lr * ( same_grad - diff_grad )
|每类例样数|例样监督网络结构|多层网络结构|准确率|训练前均值\方差|训练后均值\方差|
|---|---|---|---|---|---|
|5|784,1024,392,1024|1024,128,32,10|87%|0.12975835800170898<br>0.09340644627809525|-5.5295942729571834e-05 <br> 0.002030265284702182|
|5|784,1024,392,1024(relu)|1024,128,32,10|83%|0.12975835800170898 <br>0.09340644627809525|0.017956260591745377  <br> 0.0006731789908371866 |
|5|784,1024(relu)|1024,128,32,10|93%|0.12975835800170898<br>0.09340644627809525|0.0766175240278244<br>0.012892218306660652 |
|5|784,1024,2048(relu)|2048,128,32,10|92%|0.12975835800170898<br>0.09340644627809525 |0.03259529173374176<br>0.0023516539949923754 |
#### 损失函数校正后
|每类例样数|例样监督网络结构|多层网络结构|准确率|训练前均值\方差|训练后均值\方差|
|---|---|---|---|---|---|
|5|784,1024,2048(relu)|2048,128,32,10|92%|0.12975835800170898 <br>0.09340644627809525 |0.03155241161584854<br>0.002340263919904828 |
##### 样例数据不求梯度
|每类例样数|例样监督网络结构|多层网络结构|准确率|训练前均值\方差|训练后均值\方差|
|---|---|---|---|---|---|
|5|784,1024,2048(relu)|2048,128,32,10|92%|0.12975835800170898 <br>0.09340644627809525 |0.03157319873571396<br> 0.002185852499678731 |
